# A vision-like pipeline workflow

package {id:"scripts", source:"vision-py/scripts"}

set { pngDir: "vision-py/png" }

# Extract arrow head/tail
run python {file:"ExtractArrows.py", package:"scripts"} -i {input:$pngDir, type:"dir"} -o {output:"arrowDir", type:"dir"}

run python {file:"ExtractBlobs.py", package:"scripts"} -i {input: $pngDir, type:"dir"} -o {output:"blobsDir", type:"dir"}

run python {file:"ExtractText.py", package:"scripts"} -i {input: $pngDir, type:"dir"} -o {output:"textDir", type:"dir"}

run python {file:"ExtractRelations.py", package:"scripts"} -i {input: $pngDir, type:"dir"} -a {ref:"arrowDir"} -b {ref:"blobsDir"} -t {ref:"textDir"} -o {output:"relationsDir", type:"dir"}
